/*!
@file spearwolf-js - various javascript helpers and classes for various three.js/webgl experiments!
@author Wolfger Schramm <wolfger@spearwolf.de>
@version 0.0.1

Copyright 2016-2019 Wolfger Schramm

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

*/
function t(t){let n=1;for(;t>n;)n<<=1;return n}var n=function(t){try{return!!t()}catch(t){return!0}},e=!n(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),r=function(t){return"object"==typeof t?null!==t:"function"==typeof t},i=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t};function o(t,n){return t(n={exports:{}},n.exports),n.exports}var u=o(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),c=u.document,s=r(c)&&r(c.createElement),a=function(t){return s?c.createElement(t):{}},l=!e&&!n(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}),f=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")},h=Object.defineProperty,p={f:e?Object.defineProperty:function(t,n,e){if(i(t),n=f(n,!0),i(e),l)try{return h(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},g=function(){var t=i(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n};e&&"g"!=/./g.flags&&p.f(RegExp.prototype,"flags",{configurable:!0,get:g});var v=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},d=e?function(t,n,e){return p.f(t,n,v(1,e))}:function(t,n,e){return t[n]=e,t},y={}.hasOwnProperty,b=function(t,n){return y.call(t,n)},m=0,x=Math.random(),S=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++m+x).toString(36))},_=o(function(t){var n=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=n)}),w=(_.version,o(function(t){var n=S("src"),e=Function.toString,r=(""+e).split("toString");_.inspectSource=function(t){return e.call(t)},(t.exports=function(t,e,i,o){var c="function"==typeof i;c&&(b(i,"name")||d(i,"name",e)),t[e]!==i&&(c&&(b(i,n)||d(i,n,t[e]?""+t[e]:r.join(String(e)))),t===u?t[e]=i:o?t[e]?t[e]=i:d(t,e,i):(delete t[e],d(t,e,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[n]||e.call(this)})})),E=/./.toString,O=function(t){w(RegExp.prototype,"toString",t,!0)};n(function(){return"/a/b"!=E.call({source:"a",flags:"b"})})?O(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!e&&t instanceof RegExp?g.call(t):void 0)}):"toString"!=E.name&&O(function(){return E.call(this)});var j=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},I=function(t){return Object(j(t))},M=Math.ceil,L=Math.floor,R=function(t){return isNaN(t=+t)?0:(t>0?L:M)(t)},T=Math.min,P=function(t){return t>0?T(R(t),9007199254740991):0},k=function(t){return function(n,e){var r,i,o=String(j(n)),u=R(e),c=o.length;return u<0||u>=c?t?"":void 0:(r=o.charCodeAt(u))<55296||r>56319||u+1===c||(i=o.charCodeAt(u+1))<56320||i>57343?t?o.charAt(u):r:t?o.slice(u,u+2):i-56320+(r-55296<<10)+65536}}(!0),A=function(t,n,e){return n+(e?k(t,n).length:1)},C={}.toString,F=function(t){return C.call(t).slice(8,-1)},N=o(function(t){var n=u["__core-js_shared__"]||(u["__core-js_shared__"]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:_.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),$=o(function(t){var n=N("wks"),e=u.Symbol,r="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=r&&e[t]||(r?e:S)("Symbol."+t))}).store=n}),G=$("toStringTag"),D="Arguments"==F(function(){return arguments}()),V=RegExp.prototype.exec,W=function(t,n){var e,r,i,o,u=t.exec;if("function"==typeof u){var c=u.call(t,n);if("object"!=typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==(void 0===(e=t)?"Undefined":null===e?"Null":"string"==typeof(i=function(t,n){try{return t[n]}catch(t){}}(r=Object(e),G))?i:D?F(r):"Object"==(o=F(r))&&"function"==typeof r.callee?"Arguments":o))throw new TypeError("RegExp#exec called on incompatible receiver");return V.call(t,n)},B=RegExp.prototype.exec,H=String.prototype.replace,U=B,z=function(){var t=/a/,n=/b*/g;return B.call(t,"a"),B.call(n,"a"),0!==t.lastIndex||0!==n.lastIndex}(),q=void 0!==/()??/.exec("")[1];(z||q)&&(U=function(t){var n,e,r,i,o=this;return q&&(e=new RegExp("^"+o.source+"$(?!\\s)",g.call(o))),z&&(n=o.lastIndex),r=B.call(o,t),z&&r&&(o.lastIndex=o.global?r.index+r[0].length:n),q&&r&&r.length>1&&H.call(r[0],e,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var X=U,Y=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},J=function(t,n,e){if(Y(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}},K=function(t,n,e){var r,i,o,c,s=t&K.F,a=t&K.G,l=t&K.S,f=t&K.P,h=t&K.B,p=a?u:l?u[n]||(u[n]={}):(u[n]||{}).prototype,g=a?_:_[n]||(_[n]={}),v=g.prototype||(g.prototype={});for(r in a&&(e=n),e)o=((i=!s&&p&&void 0!==p[r])?p:e)[r],c=h&&i?J(o,u):f&&"function"==typeof o?J(Function.call,o):o,p&&w(p,r,o,t&K.U),g[r]!=o&&d(g,r,c),f&&v[r]!=o&&(v[r]=o)};u.core=_,K.F=1,K.G=2,K.S=4,K.P=8,K.B=16,K.W=32,K.U=64,K.R=128;var Q=K;Q({target:"RegExp",proto:!0,forced:X!==/./.exec},{exec:X});var Z=$("species"),tt=!n(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),nt=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}(),et=function(t,e,r){var i=$(t),o=!n(function(){var n={};return n[i]=function(){return 7},7!=""[t](n)}),u=o?!n(function(){var n=!1,e=/a/;return e.exec=function(){return n=!0,null},"split"===t&&(e.constructor={},e.constructor[Z]=function(){return e}),e[i](""),!n}):void 0;if(!o||!u||"replace"===t&&!tt||"split"===t&&!nt){var c=/./[i],s=r(j,i,""[t],function(t,n,e,r,i){return n.exec===X?o&&!i?{done:!0,value:c.call(n,e,r)}:{done:!0,value:t.call(e,n,r)}:{done:!1}}),a=s[0],l=s[1];w(String.prototype,t,a),d(RegExp.prototype,i,2==e?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)})}},rt=Math.max,it=Math.min,ot=Math.floor,ut=/\$([$&`']|\d\d?|<[^>]*>)/g,ct=/\$([$&`']|\d\d?)/g;et("replace",2,function(t,n,e,r){return[function(r,i){var o=t(this),u=null==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},function(t,n){var u=r(e,t,this,n);if(u.done)return u.value;var c=i(t),s=String(this),a="function"==typeof n;a||(n=String(n));var l=c.global;if(l){var f=c.unicode;c.lastIndex=0}for(var h=[];;){var p=W(c,s);if(null===p)break;if(h.push(p),!l)break;""===String(p[0])&&(c.lastIndex=A(s,P(c.lastIndex),f))}for(var g,v="",d=0,y=0;y<h.length;y++){p=h[y];for(var b=String(p[0]),m=rt(it(R(p.index),s.length),0),x=[],S=1;S<p.length;S++)x.push(void 0===(g=p[S])?g:String(g));var _=p.groups;if(a){var w=[b].concat(x,m,s);void 0!==_&&w.push(_);var E=String(n.apply(void 0,w))}else E=o(b,s,m,x,_,n);m>=d&&(v+=s.slice(d,m)+E,d=m+b.length)}return v+s.slice(d)}];function o(t,n,r,i,o,u){var c=r+t.length,s=i.length,a=ct;return void 0!==o&&(o=I(o),a=ut),e.call(u,a,function(e,u){var a;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":a=o[u.slice(1,-1)];break;default:var l=+u;if(0===l)return e;if(l>s){var f=ot(l/10);return 0===f?e:f<=s?void 0===i[f-1]?u.charAt(1):i[f-1]+u.charAt(1):e}a=i[l-1]}return void 0===a?"":a})}});const st=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^16*Math.random()>>t/4).toString(16));var at=$("match"),lt=function(t){var n;return r(t)&&(void 0!==(n=t[at])?!!n:"RegExp"==F(t))},ft=$("species"),ht=Math.min,pt=[].push,gt=!!function(){try{return new RegExp("x","y")}catch(t){}}();et("split",2,function(t,n,e,r){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!lt(t))return e.call(r,t,n);for(var i,o,u,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),a=0,l=void 0===n?4294967295:n>>>0,f=new RegExp(t.source,s+"g");(i=X.call(f,r))&&!((o=f.lastIndex)>a&&(c.push(r.slice(a,i.index)),i.length>1&&i.index<r.length&&pt.apply(c,i.slice(1)),u=i[0].length,a=o,c.length>=l));)f.lastIndex===i.index&&f.lastIndex++;return a===r.length?!u&&f.test("")||c.push(""):c.push(r.slice(a)),c.length>l?c.slice(0,l):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,r){var i=t(this),u=null==e?void 0:e[n];return void 0!==u?u.call(e,i,r):o.call(String(i),e,r)},function(t,n){var u=r(o,t,this,n,o!==e);if(u.done)return u.value;var c=i(t),s=String(this),a=function(t,n){var e,r=i(t).constructor;return void 0===r||null==(e=i(r)[ft])?n:Y(e)}(c,RegExp),l=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(gt?"y":"g"),h=new a(gt?c:"^(?:"+c.source+")",f),p=void 0===n?4294967295:n>>>0;if(0===p)return[];if(0===s.length)return null===W(h,s)?[s]:[];for(var g=0,v=0,d=[];v<s.length;){h.lastIndex=gt?v:0;var y,b=W(h,gt?s:s.slice(v));if(null===b||(y=ht(P(h.lastIndex+(gt?0:v)),s.length))===g)v=A(s,v,l);else{if(d.push(s.slice(g,v)),d.length===p)return d;for(var m=1;m<=b.length-1;m++)if(d.push(b[m]),d.length===p)return d;v=g=y}}return d.push(s.slice(g)),d}]});var vt,dt,yt={f:{}.propertyIsEnumerable},bt=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==F(t)?t.split(""):Object(t)},mt=function(t){return bt(j(t))},xt=Object.getOwnPropertyDescriptor,St={f:e?xt:function(t,n){if(t=mt(t),n=f(n,!0),l)try{return xt(t,n)}catch(t){}if(b(t,n))return v(!yt.f.call(t,n),t[n])}},_t=function(t,n){if(i(t),!r(n)&&null!==n)throw TypeError(n+": can't set as prototype!")},wt={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{(e=J(Function.call,St.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return _t(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:_t}.set,Et=Math.max,Ot=Math.min,jt=N("keys"),It=function(t){return jt[t]||(jt[t]=S(t))},Mt=(vt=!1,function(t,n,e){var r,i=mt(t),o=P(i.length),u=function(t,n){return(t=R(t))<0?Et(t+n,0):Ot(t,n)}(e,o);if(vt&&n!=n){for(;o>u;)if((r=i[u++])!=r)return!0}else for(;o>u;u++)if((vt||u in i)&&i[u]===n)return vt||u||0;return!vt&&-1}),Lt=It("IE_PROTO"),Rt=function(t,n){var e,r=mt(t),i=0,o=[];for(e in r)e!=Lt&&b(r,e)&&o.push(e);for(;n.length>i;)b(r,e=n[i++])&&(~Mt(o,e)||o.push(e));return o},Tt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Pt=Tt.concat("length","prototype"),kt={f:Object.getOwnPropertyNames||function(t){return Rt(t,Pt)}},At=$("species"),Ct=p.f,Ft=kt.f,Nt=u.RegExp,$t=Nt,Gt=Nt.prototype,Dt=/a/g,Vt=/a/g,Wt=new Nt(Dt)!==Dt;if(e&&(!Wt||n(function(){return Vt[$("match")]=!1,Nt(Dt)!=Dt||Nt(Vt)==Vt||"/a/i"!=Nt(Dt,"i")}))){Nt=function(t,n){var e,i,o,u,c=this instanceof Nt,s=lt(t),a=void 0===n;return!c&&s&&t.constructor===Nt&&a?t:(e=Wt?new $t(s&&!a?t.source:t,n):$t((s=t instanceof Nt)?t.source:t,s&&a?g.call(t):n),i=Nt,(u=(c?this:Gt).constructor)!==i&&"function"==typeof u&&(o=u.prototype)!==i.prototype&&r(o)&&wt&&wt(e,o),e)};for(var Bt=function(t){t in Nt||Ct(Nt,t,{configurable:!0,get:function(){return $t[t]},set:function(n){$t[t]=n}})},Ht=Ft($t),Ut=0;Ht.length>Ut;)Bt(Ht[Ut++]);Gt.constructor=Nt,Nt.prototype=Gt,w(u,"RegExp",Nt)}dt=u["RegExp"],e&&dt&&!dt[At]&&p.f(dt,At,{configurable:!0,get:function(){return this}});const zt=new RegExp(/(.+)\[(\d+)\]$/),qt=(t,n)=>{if(null!=t){if(n in t)return t[n];const e=n.split(/[.]/),r=((t,n)=>{const e=zt.exec(n);if(e){const n=t[e[1]];return null!=n?n[parseInt(e[2],10)]:void 0}return t[n]})(t,e.shift());return null!=r&&e.length?qt(r,e.join(".")):r}};var Xt=t=>{const n=t.startsWith("#")?1:0;return[parseInt(t.substring(n,n+2),16),parseInt(t.substring(n+2,n+4),16),parseInt(t.substring(n+4,n+6),16)]},Yt=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;const e=t.startsWith("#")?1:0;return[parseInt(t.substring(e,e+2),16),parseInt(t.substring(e+2,e+4),16),parseInt(t.substring(e+4,e+6),16),n]};const Jt=t=>0!==t&&0==(t&t-1),Kt=Math.PI/180;var Qt=function(t){const n=.5*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),e=360/t,r=[];for(let i=0,o=0;i<t;i++)r.push([n*Math.sin(o*Kt),n*Math.cos(o*Kt)]),o+=e;return r};const Zt=(t,n)=>t>n?t:n;var tn=$("unscopables"),nn=Array.prototype;null==nn[tn]&&d(nn,tn,{});var en=function(t){nn[tn][t]=!0},rn=function(t,n){return{value:n,done:!!t}},on={},un=Object.keys||function(t){return Rt(t,Tt)},cn=e?Object.defineProperties:function(t,n){i(t);for(var e,r=un(n),o=r.length,u=0;o>u;)p.f(t,e=r[u++],n[e]);return t},sn=u.document,an=sn&&sn.documentElement,ln=It("IE_PROTO"),fn=function(){},hn=function(){var t,n=a("iframe"),e=Tt.length;for(n.style.display="none",an.appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),hn=t.F;e--;)delete hn.prototype[Tt[e]];return hn()},pn=Object.create||function(t,n){var e;return null!==t?(fn.prototype=i(t),e=new fn,fn.prototype=null,e[ln]=t):e=hn(),void 0===n?e:cn(e,n)},gn=p.f,vn=$("toStringTag"),dn=function(t,n,e){t&&!b(t=e?t:t.prototype,vn)&&gn(t,vn,{configurable:!0,value:n})},yn={};d(yn,$("iterator"),function(){return this});var bn=function(t,n,e){t.prototype=pn(yn,{next:v(1,e)}),dn(t,n+" Iterator")},mn=It("IE_PROTO"),xn=Object.prototype,Sn=Object.getPrototypeOf||function(t){return t=I(t),b(t,mn)?t[mn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?xn:null},_n=$("iterator"),wn=!([].keys&&"next"in[].keys()),En=function(){return this},On=function(t,n,e,r,i,o,u){bn(e,n,r);var c,s,a,l=function(t){if(!wn&&t in g)return g[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},f=n+" Iterator",h="values"==i,p=!1,g=t.prototype,v=g[_n]||g["@@iterator"]||i&&g[i],y=v||l(i),b=i?h?l("entries"):y:void 0,m="Array"==n&&g.entries||v;if(m&&(a=Sn(m.call(new t)))!==Object.prototype&&a.next&&(dn(a,f,!0),"function"!=typeof a[_n]&&d(a,_n,En)),h&&v&&"values"!==v.name&&(p=!0,y=function(){return v.call(this)}),(wn||p||!g[_n])&&d(g,_n,y),on[n]=y,on[f]=En,i)if(c={values:h?y:l("values"),keys:o?y:l("keys"),entries:b},u)for(s in c)s in g||w(g,s,c[s]);else Q(Q.P+Q.F*(wn||p),n,c);return c}(Array,"Array",function(t,n){this._t=mt(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,rn(1)):rn(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values");on.Arguments=on.Array,en("keys"),en("values"),en("entries");for(var jn=$("iterator"),In=$("toStringTag"),Mn=on.Array,Ln={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Rn=un(Ln),Tn=0;Tn<Rn.length;Tn++){var Pn,kn=Rn[Tn],An=Ln[kn],Cn=u[kn],Fn=Cn&&Cn.prototype;if(Fn&&(Fn[jn]||d(Fn,jn,Mn),Fn[In]||d(Fn,In,kn),on[kn]=Mn,An))for(Pn in On)Fn[Pn]||w(Fn,Pn,On[Pn],!0)}var Nn=t=>n=>{const e={};return n&&t.forEach(t=>{const r=n[t];void 0!==r&&(e[t]=r)}),e},$n=(t,n,e,r)=>{if(t){const e=t[n];if(void 0!==e)return e}return"function"==typeof e?e(r):e},Gn=t=>t[Math.random()*t.length|0],Dn=t=>t.map(t=>t/255);class Vn{constructor(t,n,e,r){this.left=t,this.top=n,this.width=e,this.height=r}clone(){return new Vn(this.left,this.top,this.width,this.height)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}get centerX(){return this.left+this.width/2}get centerY(){return this.top+this.height/2}isInside(t,n){return this.left<=t&&t<this.right&&this.top<=n&&n<this.bottom}isIntersecting(t){return!(t.right<=this.left||t.left>=this.right||t.bottom<=this.top||t.top>=this.bottom)}isNorthWest(t,n){return(this.right<=t||this.left<t)&&(this.top<n||this.bottom<=n)}isNorthEast(t,n){return(this.right>t||this.left>=t)&&(this.top<n||this.bottom<=n)}isSouthEast(t,n){return(this.right>t||this.left>=t)&&(this.top>=n||this.bottom>n)}isSouthWest(t,n){return(this.right<=t||this.left<t)&&(this.top>=n||this.bottom>n)}}class Wn{constructor(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.type=t,this._data=n,this.id=e&&e.id?String(e.id):st(),this.serial=e&&"number"==typeof e.serial?e.serial:1,this.hints=e}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this.touch())}touch(){this.serial++}isSynced(t){const n=this.serial;return n>0&&n===t.serial}needSync(t){return!this.isSynced(t)}sync(t,n){this.needSync(t)&&(n(this.data),this.serial=t.serial)}hasHint(t,n){return 1===arguments.length?Boolean(this.hints&&t in this.hints):Boolean(this.hints&&t in this.hints&&this.hints[t]===n)}hint(t){return this.hints&&this.hints[t]}}export{t as findNextPowerOf2,st as generateUuid,qt as get,Xt as hexCol2rgb,Yt as hexCol2rgba,Jt as isPowerOf2,Qt as makeCircleCoords,Zt as maxOf,Nn as pick,$n as readOption,Gn as sample,Dn as toFloatColors,Wn as DataRef,Vn as AABB2};
//# sourceMappingURL=spearwolf.module.js.map
